- form_for @user, :html => { :multipart => true } do |f|
  = f.error_messages
  %p
    = f.label :username
    %br
    = f.text_field :username

  %p
    = f.label :password 
    %br
    = f.password_field :password
  
  %p
    = f.label :password_confirmation
    %br
    = f.password_field :password_confirmation

  %p
    = f.label :first_name
    %br
    = f.text_field :first_name  

  %p
    = f.label :last_name
    %br
    = f.text_field :last_name  

  %p
    = f.label :email
    %br
    = f.text_field :email  

  - if @show_roles
    %p
      = f.label :role_id
      %br
      = f.select :role_id, @roles.collect { |r| [r.role_name, r.id] }, :include_blank => true
  %p
    = f.label :photo
    %br
    = f.file_field :photo

  %p 
    = f.submit
